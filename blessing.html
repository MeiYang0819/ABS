<!doctype html>
<html lang="zh-Hant">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ÈÄÅ‰∏äÁ•ùÁ¶è</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand:wght@400&family=Sacramento:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --brand-bg:#c9daf8;
  --title:#A68A7C;
  --ink:#0f172a; --accent:#A68A7C; --rim:#E4E4E4; --soft:#F5F1EC;
  --panel-grad-from:#b7d2f6;
  --panel-grad-to:#cfe1fb;
  --panel-bg-image:none;
  --paper-grad-from:rgba(255,242,204,.98);
  --paper-grad-to:rgba(255,242,204,.92);
  --panel-maxw:1400px; --card-maxw:900px;
  --radius-xl:16px; --radius-md:12px;
  --shadow-1:0 10px 26px rgba(0,0,0,.10);
  --shadow-2:0 2px 0 rgba(0,0,0,.15), 0 2px 8px rgba(0,0,0,.06);
  --content-pad:22px; --editor-zoom:1rem;
  --toolbar-gap:8px; --status-fz:14px; --h2-size:2.8rem;
  --stroke:rgba(0,0,0,.18); --glow:rgba(255,255,255,.65);
  --footer-gap:24px;
  --btn-w:220px; --btn-h:50px;
}
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; overflow:hidden; color:var(--ink); background:var(--brand-bg);
  font-family:"Patrick Hand","Noto Sans TC",system-ui,-apple-system,sans-serif;
}
.bg-photo{
  position:fixed; inset:0; z-index:0; width:100%; height:100%;
  object-fit:cover; opacity:.25; filter:brightness(0.7);
  pointer-events:none;
}
.panel{
  position:relative; z-index:1;
  max-width:var(--panel-maxw);
  width:90%;
  height:calc(100vh - (70px + var(--footer-gap)));
  margin:26px auto;
  background:linear-gradient(135deg, var(--panel-grad-from), var(--panel-grad-to));
  border:1px solid var(--rim); border-radius:var(--radius-xl);
  box-shadow:var(--shadow-1);
  display:flex; flex-direction:column; overflow:hidden;
}
.titlebar{ padding:10px 16px 6px; flex:0 0 auto; }
h2{ margin:0 0 6px; text-align:center; font-family:"Sacramento",cursive;
  font-weight:700; font-size:var(--h2-size); color:var(--title);
}
.bar{ padding:6px 22px 8px; }
.bar-inner{ max-width:var(--card-maxw); margin:0 auto; display:flex; align-items:center; gap:12px; }
.toolbar{ display:flex; gap:var(--toolbar-gap); }
.flex-spacer{ flex:0 0 8px; }
.tool-btn,.tool-select{ min-width:64px; height:36px; padding:0 12px; background:#fff; border:1px solid var(--rim);
  border-radius:var(--radius-md); font-weight:700; display:flex; align-items:center; justify-content:center;
}
#status{ flex:1 1 auto; background:var(--soft); border:1px solid #E4E4E4; border-radius:12px; padding:10px;
  font-size:var(--status-fz); white-space:pre-wrap; text-align:center; color:var(--accent); font-weight:700;
  min-width:320px;
}
.stage{ flex:1 1 auto; display:flex; padding:14px; gap:14px; }
.left-panel, .center-panel, .side-panel{
  background:linear-gradient(180deg, var(--paper-grad-from), var(--paper-grad-to));
  border:1px solid rgba(0,0,0,.05); border-radius:var(--radius-xl); padding:var(--content-pad);
  box-shadow:0 10px 26px rgba(0,0,0,.08); overflow:auto;
}
.left-panel{ flex:1; max-width:200px; }
.center-panel{ flex:2; display:flex; flex-wrap:wrap; gap:14px; align-content:flex-start; }
.side-panel{ flex:1; max-width:250px; display:flex; flex-direction:column; align-items:flex-start; gap:12px; }
.blessing-card{
  width:220px; height:160px;
  background:#fff; border:1px solid #ddd; border-radius:10px; padding:10px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  display:flex; flex-direction:column; justify-content:space-between;
  position:relative;
}
.blessing-card::before{
  content:""; position:absolute; top:-8px; left:50%; transform:translateX(-50%);
  width:16px; height:16px; background:red; border-radius:50%;
}
.blessing-author{ font-weight:bold; text-align:center; }
.blessing-content{ flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; text-align:center; }
.blessing-date{ font-size:12px; text-align:center; color:#555; }
#chipSign{ width:100%; text-align:center; padding:8px; border:1px solid #ddd; border-radius:8px; background:#fff; cursor:pointer; }
#chipSign img{ max-width:100%; max-height:60px; display:none; margin:auto; }
#chipSign.has-img span{ display:none; }
#chipSign.has-img img{ display:block; }
.footer-actions{ flex:0 0 auto; display:flex; justify-content:center; align-items:center; padding:14px 0 16px; }
.primary{ min-width:var(--btn-w); height:var(--btn-h); background:#fff; border:1px solid var(--rim);
  border-radius:var(--radius-md); font-weight:700; cursor:pointer;
}
footer{ position:fixed; left:0; right:0; bottom:var(--footer-gap); text-align:center;
  color:#6b5e52; font-size:12px; opacity:.9; pointer-events:none; z-index:5;
}
.overlay{ position:fixed; inset:0; z-index:9999; display:none; align-items:center; justify-content:center; background:rgba(17,24,39,.35); backdrop-filter:blur(3px); }
.overlay.show{ display:flex; }
.dialog{ width:min(92vw,520px); background:var(--soft); border:1px solid var(--rim); border-radius:14px; padding:16px; }
.dialog h3{ margin:0 0 10px; font-size:18px; text-align:center; }
#pad{ width:100%; height:260px; background:#fff; border:1px solid #ddd; border-radius:12px; touch-action:none; }
.dlg-actions{ display:flex; gap:10px; justify-content:center; margin-top:12px; }
</style>

<body>
<img class="bg-photo" src="./assets/wishing.png" alt="">
<div class="panel">
  <div class="titlebar">
    <h2>ÈÄÅ‰∏äÁ•ùÁ¶è</h2>
    <div class="bar">
      <div class="bar-inner">
        <div class="toolbar">
          <button class="tool-btn" id="btnBold">Á≤óÈ´î</button>
          <button class="tool-btn" id="btnItalic">ÊñúÈ´î</button>
          <button class="tool-btn" id="btnUnderline">Â∫ïÁ∑ö</button>
          <select id="colorPick" class="tool-select">
            <option value="" selected>È°èËâ≤</option>
            <option value="#0f172a">Â¢®Ëâ≤</option><option value="#dc2626">Á¥Ö</option>
          </select>
        </div>
        <div class="flex-spacer"></div>
        <p id="status">Â∑≤Â∞±Á∑í</p>
      </div>
    </div>
  </div>

  <div class="stage">
    <div class="left-panel">
      <h3>ÁØ©ÈÅ∏</h3>
      <button>ÂÖ®ÈÉ®</button>
      <button>Áî∑Êñπ</button>
      <button>Â•≥Êñπ</button>
    </div>
    <div class="center-panel" id="blessingWall">
      <!-- blessings will appear here -->
    </div>
    <div class="side-panel">
      <div id="brideLabel">Êñ∞‰∫∫Ôºö‚Äî</div>
      <div id="chipSign"><span>ÈªûÊàëÁ∞ΩÂêç</span><img id="signThumb"/></div>
    </div>
  </div>

  <div class="footer-actions">
    <button id="btnSubmit" class="primary">ÈÄÅÂá∫Á•ùÁ¶è</button>
  </div>
</div>

<footer>¬© Copyright 2025 MY‚Äòs System</footer>

<!-- Modal for blessing view -->
<div id="viewOverlay" class="overlay">
  <div class="dialog">
    <h3>Á•ùÁ¶èÂÖßÂÆπ</h3>
    <div id="viewContent"></div>
    <div class="dlg-actions"><button onclick="closeView()">ÈóúÈñâ</button></div>
  </div>
</div>

<script>
const blessingWall=document.getElementById('blessingWall');
const blessings=[];
function addBlessing(author,text,date){
  const card=document.createElement('div');
  card.className='blessing-card';
  card.innerHTML=`<div class="blessing-author">${author}</div>
  <div class="blessing-content">${text}</div>
  <div class="blessing-date">${date}</div>`;
  card.addEventListener('click',()=>openView(author,text,date));
  blessingWall.appendChild(card);
}
function openView(author,text,date){
  document.getElementById('viewContent').innerHTML=`<p><b>${author}</b></p><p>${text}</p><p>${date}</p>`;
  document.getElementById('viewOverlay').classList.add('show');
}
function closeView(){ document.getElementById('viewOverlay').classList.remove('show'); }

document.getElementById('btnSubmit').addEventListener('click',()=>{
  const now=new Date().toISOString().split('T')[0];
  addBlessing('Â∞èÊòé','ÊÅ≠ÂñúÁôæÂπ¥Â•ΩÂêàÔºÅüíù',now);
});
</script>
</body>
</html>
