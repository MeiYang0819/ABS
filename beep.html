<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Beep 測試</title>
<body style="font-family:system-ui;display:grid;place-items:center;height:100dvh">
  <button id="btn" style="font-size:18px;padding:12px 16px;border-radius:12px">
    點我應該會聽到「嗶」
  </button>
  <pre id="s" style="margin-top:12px;color:#334155"></pre>
<script>
const s = document.querySelector('#s');
document.querySelector('#btn').addEventListener('click', async () => {
  const Ctx = window.webkitAudioContext || window.AudioContext;
  const ctx = new Ctx();
  await ctx.resume();
  const osc = ctx.createOscillator();
  const g = ctx.createGain();
  osc.type='sine'; osc.frequency.value=880;
  g.gain.value=0.06; // 明顯一點
  osc.connect(g).connect(ctx.destination);
  const t=ctx.currentTime; osc.start(t); osc.stop(t+0.2);
  s.textContent = 'ctx: ' + ctx.state + '（已嘗試出聲 200ms）';
});
</script>
</body>
